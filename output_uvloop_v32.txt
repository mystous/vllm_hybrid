DEBUG_AG: Process 482202 importing vllm.config
DEBUG_AG: Process 482202 importing vllm.distributed
DEBUG_AG: Process 482202 importing vllm.distributed.communication_op
DEBUG_AG: Process 482202 importing vllm.distributed.parallel_state
DEBUG_AG: Process 482202 importing vllm.distributed.utils
DEBUG_AG: Process 482202 finished importing vllm.distributed.utils
DEBUG_AG: Process 482202 finished importing vllm.distributed.parallel_state
DEBUG_AG: Process 482202 importing vllm.platforms
DEBUG_AG: Process 482202 vllm.platforms import step 1 (torch)
DEBUG 01-09 14:00:01 [__init__.py:30] No plugins for group vllm.platform_plugins found.
DEBUG_AG: Process 482202 checking plugin tpu
DEBUG 01-09 14:00:01 [__init__.py:44] Checking if TPU platform is available.
DEBUG 01-09 14:00:01 [__init__.py:62] TPU platform is not available because: No module named 'libtpu'
DEBUG_AG: Process 482202 checking plugin cuda
DEBUG 01-09 14:00:01 [__init__.py:68] Checking if CUDA platform is available.
DEBUG 01-09 14:00:01 [__init__.py:88] Confirmed CUDA platform is available.
DEBUG_AG: Process 482202 finished nvmlShutdown in cuda_platform_plugin
DEBUG_AG: Process 482202 selected platform vllm.platforms.cuda.CudaPlatform
DEBUG_AG: Process 482202 importing vllm.platforms.cuda
DEBUG_AG: Process 482202 finished importing vllm.platforms.cuda
DEBUG_AG: Process 482202 finished importing vllm.distributed
DEBUG_AG: Process 482202 finished importing vllm.config
DEBUG_AG: Process 482202 importing vllm.worker.worker_base
The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
Starting reproduction script with uvloop...
INFO 01-09 14:00:06 [config.py:735] Resolved architecture: OPTForCausalLM
`torch_dtype` is deprecated! Use `dtype` instead!
INFO 01-09 14:00:06 [config.py:1807] Using max model len 2048
Config created. Device type: heterogeneous
Initializing AsyncLLM...
DEBUG_AG: Process 482202 importing vllm.v1.executor.multiproc_executor
Traceback (most recent call last):
  File "/home/mystous/projects/vllm_hybrid/repro_uvloop.py", line 98, in main
    llm = await AsyncLLM.from_vllm_config(vllm_config)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mystous/projects/vllm_hybrid/vllm/utils/__init__.py", line 1520, in inner
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/mystous/projects/vllm_hybrid/vllm/v1/engine/async_llm.py", line 175, in from_vllm_config
    executor_class=Executor.get_class(vllm_config),
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mystous/projects/vllm_hybrid/vllm/v1/executor/abstract.py", line 45, in get_class
    from vllm.v1.executor.multiproc_executor import MultiprocExecutor
  File "/home/mystous/projects/vllm_hybrid/vllm/v1/executor/multiproc_executor.py", line 28, in <module>
    from vllm.distributed.device_communicators.shm_broadcast import (Handle,
  File "/home/mystous/projects/vllm_hybrid/vllm/distributed/device_communicators/shm_broadcast.py", line 510
    def dequeue(self,
IndentationError: unexpected indent
AsyncLLM initialization failed: unexpected indent (shm_broadcast.py, line 510)
